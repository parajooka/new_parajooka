#ACCESSIP
CREATE TABLE ACCESSIP (
	id INT PRIMARY KEY AUTO_INCREMENT,
	access_ip VARCHAR(40) NOT NULL, 
	auth_date DATETIME NOT NULL, 
	authorizationer VARCHAR(40) NOT NULL
);

#HOMEPAGE
CREATE TABLE HOMEPAGE (
	id INT PRIMARY KEY AUTO_INCREMENT,
	name VARCHAR(50) NOT NULL,
	favicon VARCHAR(150) NOT NULL,
	main_url VARCHAR(100) NOT NULL,
	info VARCHAR(100) NOT NULL,
	logo VARCHAR(150) NOT NULL,
	mail VARCHAR(50) NOT NULL,
	phone VARCHAR(50) NOT NULL,
	fax VARCHAR(50) NOT NULL,
	address VARCHAR(150) NOT NULL,
	representative VARCHAR(50) NOT NULL,
	mobile_use INT NOT NULL
);

#MENU
CREATE TABLE MENU (
	menu_idx INT PRIMARY KEY AUTO_INCREMENT,
	add_date DATE NOT NULL,
	group_idx INT NOT NULL, 
	menu_name VARCHAR(50) NOT NULL, 
	menu_type INT NOT NULL,
	modify_date DATE NOT NULL, 
	parent_menu_idx INT NOT NULL, 
	print_seq INT NOT NULL, 
	view_yn INT NOT NULL,
	use_yn INT NOT NULL,
	menu_url VARCHAR(200) NOT NULL
);

#MENUHTML
CREATE TABLE MENUHTML (
	id INT PRIMARY KEY AUTO_INCREMENT,
	menu_idx INT NOT NULL, 
	menu_html LONGTEXT NOT NULL,
	mobile_menu_html LONGTEXT NOT NULL,
	FOREIGN KEY (`menu_idx`) REFERENCES `menu` (`menu_idx`) on delete cascade
);

#CATEGORY
CREATE TABLE CATEGORY (
	category_idx INT PRIMARY KEY AUTO_INCREMENT,
	add_date DATE NOT NULL,
	group_idx INT NOT NULL, 
	category_name VARCHAR(50) NOT NULL, 
	modify_date DATE NOT NULL, 
	parent_category_idx INT NOT NULL, 
	print_seq INT NOT NULL, 
	view_yn INT NOT NULL,
	use_yn INT NOT NULL,
	category_url VARCHAR(500) NOT NULL
);

#POST
CREATE TABLE POST (
	post_id INT PRIMARY KEY AUTO_INCREMENT,
	menu_id INT NOT NULL,
	main_img VARCHAR(100),
	title VARCHAR(500) NOT NULL,
	contents LONGTEXT NOT NULL,
	mobile_contents LONGTEXT NOT NULL,
	comment_acc INT NOT NULL,
	view_count INT NOT NULL,
	write_date DATE NOT NULL,
	modify_date DATE NOT NULL,
	explanation VARCHAR(2000) DEFAULT NULL
	
	FOREIGN KEY (`menu_id`) REFERENCES `MENU` (`menu_idx`) on delete cascade
);

#POSTCOMMENT
CREATE TABLE POSTCOMMENT (
	comment_id INT PRIMARY KEY AUTO_INCREMENT,
	post_id INT NOT NULL,
	writter_ip_add VARCHAR(50) NOT NULL,
	modify_ip_add VARCHAR(50) NOT NULL,
	reply_to INT NOT NULL,
	contents VARCHAR(2000) NOT NULL,
	write_date DATE NOT NULL,
	modify_date DATE NOT NULL,
	
	FOREIGN KEY (`post_id`) REFERENCES `POST` (`post_id`) on delete cascade
);

#POSTFILE
CREATE TABLE POSTFILE (
	post_file_id INT PRIMARY KEY AUTO_INCREMENT,
	post_id INT NOT NULL,
	file VARCHAR(100) NOT NULL,
	
	FOREIGN KEY (`post_id`) REFERENCES `POST` (`post_id`) on delete cascade
);
