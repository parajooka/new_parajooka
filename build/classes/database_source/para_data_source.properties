####################### \ucc44\uc6a9\uacf5\uace0 \uad00\ub828 \ud14c\uc774\ube14 #######################
#Hire
CREATE TABLE HIRE (
	id INT PRIMARY KEY AUTO_INCREMENT,
	title VARCHAR(500) NOT NULL, 
	info MEDIUMTEXT NOT NULL, 
	personnel INT NOT NULL,
	start_date DATE NOT NULL, 
	end_date DATE NOT NULL, 
	phone_certified INT NOT NULL, 
	interview INT NOT NULL,
	portfolio INT NOT NULL,
	gender_use INT NOT NULL,
	email_use INT NOT NULL,
	address_use INT NOT NULL,
	activation INT NOT NULL
);

#QUESTION
CREATE TABLE QUESTION (
	id INT PRIMARY KEY AUTO_INCREMENT,
	type INT NOT NULL,
	content VARCHAR(500) NOT NULL,
	example VARCHAR(2000)
);

#ANSWER
CREATE TABLE ANSWER (
	id INT PRIMARY KEY AUTO_INCREMENT,
	question_id INT NOT NULL,
	content VARCHAR(2000) NOT NULL,
	reply INT NOT NULL,
	FOREIGN KEY (`question_id`) REFERENCES `question` (`id`) on delete cascade
);

#QnHJOIN
CREATE TABLE QnHJOIN (
	id INT PRIMARY KEY AUTO_INCREMENT,
	question_id INT NOT NULL,
	hire_id INT NOT NULL,
	FOREIGN KEY (`question_id`) REFERENCES `question` (`id`) on delete cascade,
	FOREIGN KEY (`hire_id`) REFERENCES `hire` (`id`) on delete cascade
);

#VOLUNTEER
CREATE TABLE VOLUNTEER (
	id INT PRIMARY KEY AUTO_INCREMENT,
	name VARCHAR(50) NOT NULL,
	phone VARCHAR(30) NOT NULL,
	gender INT,
	email VARCHAR(50),
	address VARCHAR(100),
	post VARCHAR(20)
); 

#HIRERESULT
CREATE TABLE HIRERESULT (
	id INT PRIMARY KEY AUTO_INCREMENT,
	volunteer_result_id INT NOT NULL,
	question_id INT NOT NULL,
	answer_id INT DEFAULT 0,
	open_answer MEDIUMTEXT,
	
	FOREIGN KEY (`volunteer_result_id`) REFERENCES `VOLUNTEERRESULT` (`id`) on delete cascade,
	FOREIGN KEY (`question_id`) REFERENCES `question` (`id`) on delete cascade
);

#VOLUNTEER RESULT
CREATE TABLE VOLUNTEERRESULT (
	id INT PRIMARY KEY AUTO_INCREMENT,
	hire_id INT NOT NULL,
	volunteer_id INT NOT NULL,
	file VARCHAR(500),
	result INT NOT NULL,
	insert_date DATE NOT NULL,
	modify_date DATE NOT NULL,
	
	FOREIGN KEY (`volunteer_id`) REFERENCES `VOLUNTEER` (`id`) on delete cascade,
	FOREIGN KEY (`hire_id`) REFERENCES `hire` (`id`) on delete cascade
);

####################### \ub79c\ub529\ud398\uc774\uc9c0 \uc9c8\ubb38\uad00\ub828 \ud14c\uc774\ube14 #######################
#LANDINGQUESTION
#\ub79c\ub529\ubb38\ud56d \ud14c\uc774\ube14
CREATE TABLE LANDINGQUESTION (
	question_id INT PRIMARY KEY AUTO_INCREMENT,
	question_title VARCHAR(2000) NOT NULL,
	question_contents MEDIUMTEXT
);
INSERT INTO LANDINGQUESTION (question_title, question_contents) VALUES ('default', null);
UPDATE LANDINGQUESTION SET question_id = 0;


#LANDINGANSWER
#\ub79c\ub529\ub2f5\uc548 \ud14c\uc774\ube14
CREATE TABLE LANDINGANSWER (
	answer_id INT PRIMARY KEY AUTO_INCREMENT,
	question_id INT NOT NULL,
	pring_seq INT NOT NULL,
	answer_title VARCHAR(2000),
	answer_img VARCHAR(150),
	event_function VARCHAR(100),
	event_img VARCHAR(200),
	
	FOREIGN KEY (`question_id`) REFERENCES `LANDINGQUESTION` (`question_id`) on delete cascade
);

INSERT INTO LANDINGANSWER (question_id, pring_seq, answer_title, answer_img, event_function, event_img) VALUES (0,  0, 'default', null, null, null);
UPDATE LANDINGANSWER SET answer_id = 0;

#LANDINGQUESTIONCHAIN
#\ub79c\ub529 \ubb38\ud56d\ub07c\ub9ac\uc758 \uc5f0\uacb0 JOIN \ud14c\uc774\ube14
CREATE TABLE LANDINGQUESTIONCHAIN (
	chain_id INT PRIMARY KEY AUTO_INCREMENT,
	question_id INT NOT NULL,
	answer_id INT NOT NULL,
	
	FOREIGN KEY (`question_id`) REFERENCES `LANDINGQUESTION` (`question_id`) on delete cascade,
	FOREIGN KEY (`answer_id`) REFERENCES `LANDINGANSWER` (`answer_id`) on delete cascade
);

#LANDINGPARTICIPANT
#\ub79c\ub529 \ud398\uc774\uc9c0 \ucc38\uc5ec\uc790 \uae30\ub85d \ud14c\uc774\ube14
CREATE TABLE LANDINGPARTICIPANT (
	participant_id INT PRIMARY KEY AUTO_INCREMENT,
	name VARCHAR(200) NOT NULL,
	company VARCHAR(300) NOT NULL,
	ip_address VARCHAR(500) NOT NULL,
	record VARCHAR(700) NOT NULL,
	start_time VARCHAR(1000) NOT NULL,
	end_time VARCHAR(1000) NOT NULL
);

################### \ud30c\ub77c\uc564\uc8fc\uce74 \ucee8\ud14d\ud2b8 \ud398\uc774\uc9c0 #################

#CONTACT
#\ub79c\ub529 \ud398\uc774\uc9c0 \ucc38\uc5ec\uc790 \uae30\ub85d \ud14c\uc774\ube14
CREATE TABLE CONTACT (
	contact_id INT PRIMARY KEY AUTO_INCREMENT,
	participant_id INT NOT NULL,
	reservation_date VARCHAR(50) NOT NULL,
	reservation_type INT NOT NULL,
	reservation_memo MEDIUMTEXT,
	reservation_pw   VARCHAR(20) NOT NULL,
	contact_Date DATE NOT NULL,
	
	FOREIGN KEY (`participant_id`) REFERENCES `LANDINGPARTICIPANT` (`participant_id`) on delete cascade
);